{"version":3,"sources":["../../../src/internal-plugins/dev-404-page/gatsby-node.js"],"names":["path","require","fs","chokidar","exports","createPagesStatefully","store","actions","options","done","process","env","NODE_ENV","getState","program","createPage","source","join","__dirname","destination","directory","copy","component","watch","on"],"mappings":";;;;;;AAAA,MAAMA,OAAOC,QAAS,MAAT,CAAb;;AACA,MAAMC,KAAKD,QAAS,UAAT,CAAX;;AACA,MAAME,WAAWF,QAAS,UAAT,CAAjB;;AAEAG,QAAQC,qBAAR;AAAA;AAAA;AAAA,6CAAgC,WAAO;AAAEC,SAAF;AAASC;AAAT,GAAP,EAA2BC,OAA3B,EAAoCC,IAApC,EAA6C;AAC3E,QAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAA0B,YAA9B,EAA2C;AAAA,8BACrBN,MAAMO,QAAN,EADqB;AAAA,YACjCC,OADiC,mBACjCA,OADiC;;AAAA,YAEjCC,UAFiC,GAElBR,OAFkB,CAEjCQ,UAFiC;AAGzC,YAAMC,SAAShB,KAAKiB,IAAL,CAAUC,SAAV,EAAsB,uBAAtB,CAAf;AACA,YAAMC,cAAcnB,KAAKiB,IAAL,CAClBH,QAAQM,SADU,EAEjB,QAFiB,EAGjB,iBAHiB,CAApB;;AAKA,YAAMC,OAAO,MAAMnB,GAAGmB,IAAH,CAAQL,MAAR,EAAgBG,WAAhB,CAAnB;;AACA,YAAME,MAAN;AACAN,iBAAW;AACTO,mBAAWH,WADF;AAETnB,cAAO;AAFE,OAAX;AAIAG,eACGoB,KADH,CACSP,MADT,EAEGQ,EAFH,CAEO,QAFP,EAEgB,MAAMH,MAFtB,EAGGG,EAHH,CAGO,OAHP,EAGe,MAAMf,MAHrB;AAID,KAnBD,MAmBO;AACLA;AACD;AACF,GAvBD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["const path = require(`path`)\nconst fs = require(`fs-extra`)\nconst chokidar = require(`chokidar`)\n\nexports.createPagesStatefully = async ({ store, actions }, options, done) => {\n  if (process.env.NODE_ENV !== `production`) {\n    const { program } = store.getState()\n    const { createPage } = actions\n    const source = path.join(__dirname, `./raw_dev-404-page.js`)\n    const destination = path.join(\n      program.directory,\n      `.cache`,\n      `dev-404-page.js`\n    )\n    const copy = () => fs.copy(source, destination)\n    await copy()\n    createPage({\n      component: destination,\n      path: `/dev-404-page/`,\n    })\n    chokidar\n      .watch(source)\n      .on(`change`, () => copy())\n      .on(`ready`, () => done())\n  } else {\n    done()\n  }\n}\n"],"file":"gatsby-node.js"}