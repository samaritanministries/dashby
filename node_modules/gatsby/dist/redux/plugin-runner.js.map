{"version":3,"sources":["../../src/redux/plugin-runner.js"],"names":["require","store","emitter","apiRunnerNode","on","action","node","getState","nodes","get","payload","id","traceTags","nodeId","nodeType","internal","type","traceId","parentSpan","page","plugin","name"],"mappings":";;AAAA;iBAE2BA,QAAS,SAAT,C;MAAnBC,K,YAAAA,K;MAAOC,O,YAAAA,O;;AACf,MAAMC,gBAAgBH,QAAS,0BAAT,CAAtB;;AAEAE,QAAQE,EAAR,CAAY,aAAZ,EAA0BC,UAAU;AAClC,QAAMC,OAAOL,MAAMM,QAAN,GAAiBC,KAAjB,CAAuBC,GAAvB,CAA2BJ,OAAOK,OAAP,CAAeC,EAA1C,CAAb;AACA,QAAMC,YAAY;AAAEC,YAAQP,KAAKK,EAAf;AAAmBG,cAAUR,KAAKS,QAAL,CAAcC;AAA3C,GAAlB;AACAb,gBAAe,cAAf,EAA8B;AAC5BG,QAD4B;AAE5BW,aAASZ,OAAOY,OAFY;AAG5BC,gBAAYb,OAAOa,UAHS;AAI5BN;AAJ4B,GAA9B;AAMD,CATD;AAWAV,QAAQE,EAAR,CAAY,aAAZ,EAA0BC,UAAU;AAClC,QAAMc,OAAOd,OAAOK,OAApB;AACAP,gBACG,cADH,EAEE;AAAEgB,QAAF;AAAQF,aAASZ,OAAOY,OAAxB;AAAiCC,gBAAYb,OAAOa;AAApD,GAFF,EAGEb,OAAOe,MAAP,CAAcC,IAHhB;AAKD,CAPD","sourcesContent":["// Invoke plugins for certain actions.\n\nconst { store, emitter } = require(`./index`)\nconst apiRunnerNode = require(`../utils/api-runner-node`)\n\nemitter.on(`CREATE_NODE`, action => {\n  const node = store.getState().nodes.get(action.payload.id)\n  const traceTags = { nodeId: node.id, nodeType: node.internal.type }\n  apiRunnerNode(`onCreateNode`, {\n    node,\n    traceId: action.traceId,\n    parentSpan: action.parentSpan,\n    traceTags,\n  })\n})\n\nemitter.on(`CREATE_PAGE`, action => {\n  const page = action.payload\n  apiRunnerNode(\n    `onCreatePage`,\n    { page, traceId: action.traceId, parentSpan: action.parentSpan },\n    action.plugin.name\n  )\n})\n"],"file":"plugin-runner.js"}