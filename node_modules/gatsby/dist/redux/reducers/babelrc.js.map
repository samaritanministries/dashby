{"version":3,"sources":["../../../src/redux/reducers/babelrc.js"],"names":["_","require","module","exports","state","stages","develop","plugins","presets","options","cacheDirectory","babelrc","sourceType","action","type","Object","keys","forEach","stage","payload","index","findIndex","p","name","plugin","merge"],"mappings":"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","sourcesContent":["const _ = require(`lodash`)\n\nmodule.exports = (\n  state = {\n    stages: {\n      develop: {\n        plugins: [],\n        presets: [],\n        options: {\n          cacheDirectory: true,\n          babelrc: false,\n          sourceType: `unambiguous`,\n        },\n      },\n      \"develop-html\": {\n        plugins: [],\n        presets: [],\n        options: {\n          cacheDirectory: true,\n          babelrc: false,\n          sourceType: `unambiguous`,\n        },\n      },\n      \"build-html\": {\n        plugins: [],\n        presets: [],\n        options: {\n          cacheDirectory: true,\n          babelrc: false,\n          sourceType: `unambiguous`,\n        },\n      },\n      \"build-javascript\": {\n        plugins: [],\n        presets: [],\n        options: {\n          cacheDirectory: true,\n          babelrc: false,\n          sourceType: `unambiguous`,\n        },\n      },\n    },\n  },\n  action\n) => {\n  switch (action.type) {\n    case `SET_BABEL_PLUGIN`: {\n      Object.keys(state.stages).forEach(stage => {\n        if (action.payload.stage && action.payload.stage !== stage) {\n          return\n        }\n\n        const index = _.findIndex(\n          state.stages[stage].plugins,\n          p => p.name === action.payload.name\n        )\n        // If the plugin already exists, merge the options.\n        // Otherwise, add it to the end.\n        if (index !== -1) {\n          const plugin = state.stages[stage].plugins[index]\n          state.stages[stage].plugins[index] = {\n            name: plugin.name,\n            options: _.merge(plugin.options, action.payload.options),\n          }\n        } else {\n          state.stages[stage].plugins = [\n            ...state.stages[stage].plugins,\n            action.payload,\n          ]\n        }\n      })\n\n      return state\n    }\n    case `SET_BABEL_PRESET`: {\n      Object.keys(state.stages).forEach(stage => {\n        if (action.payload.stage && action.payload.stage !== stage) {\n          return\n        }\n\n        const index = _.findIndex(\n          state.stages[stage].presets,\n          p => p.name === action.payload.name\n        )\n        // If the plugin already exists, merge the options.\n        // Otherwise, add it to the end.\n        if (index !== -1) {\n          const plugin = state.stages[stage].presets[index]\n          state.stages[stage].presets[index] = {\n            name: plugin.name,\n            options: _.merge(plugin.options, action.payload.options),\n          }\n        } else {\n          state.stages[stage].presets = [\n            ...state.stages[stage].presets,\n            action.payload,\n          ]\n        }\n      })\n      return state\n    }\n    case `SET_BABEL_OPTIONS`: {\n      Object.keys(state.stages).forEach(stage => {\n        if (action.payload.stage && action.payload.stage !== stage) {\n          return\n        }\n\n        state.stages[stage].options = {\n          ...state.stages[stage].options,\n          ...action.payload.options,\n        }\n      })\n      return state\n    }\n  }\n\n  return state\n}\n"],"file":"babelrc.js"}