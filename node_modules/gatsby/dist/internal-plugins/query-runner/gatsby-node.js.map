{"version":3,"sources":["../../../src/internal-plugins/query-runner/gatsby-node.js"],"names":["require","watchComponent","components","exports","onCreatePage","page","store","process","env","NODE_ENV","component","getState","get","componentPath","exit"],"mappings":";;iBAA2BA,QAAS,iBAAT,C;MAAnBC,c,YAAAA,c;;AAER,IAAIC,aAAa,EAAjB;;AAEAC,QAAQC,YAAR,GAAuB,CAAC;AAAEC,MAAF;AAAQC;AAAR,CAAD,KAAqB;AAC1C;AACA,MAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAA0B,YAA9B,EAA2C;AACzC,UAAMC,YAAYJ,MAAMK,QAAN,GAAiBT,UAAjB,CAA4BU,GAA5B,CAAgCP,KAAKQ,aAArC,CAAlB;;AAEA,QAAI,CAACH,SAAL,EAAgB;AACdH,cAAQO,IAAR;AACD;;AAED,QAAIZ,WAAWQ,UAAUG,aAArB,CAAJ,EAAyC;AACvC;AACD;;AAEDZ,mBAAeS,UAAUG,aAAzB;AACD;AACF,CAfD","sourcesContent":["const { watchComponent } = require(`./query-watcher`)\n\nlet components = {}\n\nexports.onCreatePage = ({ page, store }) => {\n  // In development, watch the component to detect query changes.\n  if (process.env.NODE_ENV !== `production`) {\n    const component = store.getState().components.get(page.componentPath)\n\n    if (!component) {\n      process.exit()\n    }\n\n    if (components[component.componentPath]) {\n      return\n    }\n\n    watchComponent(component.componentPath)\n  }\n}\n"],"file":"gatsby-node.js"}